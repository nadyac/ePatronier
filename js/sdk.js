//sdk.js
(function(){var urlBase="https://platform.venmo.com/#";var payPopupClass=/(^|\s)venmo-pay-button(?=$|\s)/;function createBaseIframe(){var iframe=document.createElement("iframe");iframe.allowtransparency="true";iframe.setAttribute("allowTransparency",true);iframe.scrolling="no";iframe.setAttribute("frameBorder",0);iframe.style.border="none";return iframe}function toQueryString(obj){var qs="";for(var key in obj){if(qs===""){qs+="?"}else{qs+="&"}var encodedKey=window.encodeURIComponent(key);var encodedValue=window.encodeURIComponent(obj[key]);qs+=encodedKey+"="+encodedValue}return qs}function replaceWithIframe(link){var qs={};var attrToQueryString={"data-recipient-id":"recipient_id","data-amount":"amount","data-action":"action"};for(var attr in attrToQueryString){var value=link.getAttribute(attr);if(value){qs[attrToQueryString[attr]]=value}}if(!qs["recipient_id"]){throw new Error("Found an a.venmo-pay-button to transform, but no data-recipient-id "+"attribute")}var iframe=createBaseIframe();iframe.src=urlBase+"payment-widget"+toQueryString(qs);iframe.style.width="120px";iframe.style.height="33px";link.parentNode.replaceChild(iframe,link)}function filterNodeList(nodeList,testCb){var arr=[];for(var i=0;i<nodeList.length;i++){if(testCb(nodeList[i])){arr.push(nodeList[i])}}return arr}function transformLinks(){var links=document.getElementsByTagName("a");var toTransform=filterNodeList(links,function(link){return payPopupClass.test(link.className)});toTransform.forEach(replaceWithIframe)}function complete(){document.removeEventListener("DOMContentLoaded",complete,false);window.removeEventListener("load",complete,false);transformLinks()}if(document.readyState==="complete"){setTimeout(transformLinks,0)}else{document.addEventListener("DOMContentLoaded",complete,false);window.addEventListener("load",complete,false)}window.venmo={parseLinks:transformLinks}})();